(module
  (type (;0;) (func (param i64 i64 i32) (result i64)))
  (type (;1;) (func (param i64 i32)))
  (memory (;0;) i64 1)
  (export "checkRange" (func 0))
  (export "run" (func 1))
  (func (;0;) (type 0) (param $from i64) (param $to i64) (param $expected i32) (result i64)
    (loop $cont
      (if ;; label = @2
        (i64.eq
          (local.get $from)
          (local.get $to))
        (then
          (return
            (i64.const -1))))
      (if ;; label = @2
        (i32.eq
          (i32.load8_u
            (local.get $from))
          (local.get $expected))
        (then
          (local.set $from
            (i64.add
              (local.get $from)
              (i64.const 1)))
          (br $cont))))
    (return
      (local.get $from))
  )
  (func (;1;) (type 1) (param $offs i64) (param $len i32)
    (memory.init 0
      (local.get $offs)
      (i32.const 0)
      (local.get $len))
  )
  (data (;0;) "BBBBBBBBBBBBBBBB")
)
